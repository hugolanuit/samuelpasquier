{"version":3,"file":"js/src_js_modules_pb-row-tabs_index_js.9a6ca2883ae7c6582083.bundle.js","mappings":"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","sources":["webpack://samuelpasquier/./src/js/modules/module/Module.js","webpack://samuelpasquier/./src/js/components/TabList.js","webpack://samuelpasquier/./src/js/modules/pb-row-tabs/PbRowTabs.js","webpack://samuelpasquier/./src/js/modules/pb-row-tabs/index.js","webpack://samuelpasquier/./src/js/modules/pb-row-tabs/factory.js"],"sourcesContent":["class Module {\n  init() {}\n\n  // called during Barba's afterEnter hook.\n  start() {}\n\n  // called during Barba's beforeLeave hook.\n  stop() {}\n\n  // called during Barba's afterLeave hook.\n  destroy() {}\n\n  // getter - setter\n  get name() {\n    return null;\n  }\n}\n\nexport default Module;\n","import EventEmitter2 from \"eventemitter2\";\n\nimport { $, $$ } from \"@utils/dom\";\nimport { on, off } from \"@utils/listener\";\n\nclass TabList extends EventEmitter2 {\n  constructor(el) {\n    super();\n\n    this.el = el;\n    this.buttons = [ ...$$('[role*=\"tab\"]', this.el) ];\n\n    this._selectedItem = null;\n    this._value = null;\n\n    this._onClick = this._onClick.bind(this);\n\n    this.init();\n  }\n\n  init() {\n    // set initial selected item & value\n    this._selectedItem = this.buttons.find(button => button.getAttribute('aria-selected') === 'true');\n    if( this._selectedItem ) this._value = this._selectedItem.getAttribute('aria-controls');\n\n    this._bindEvents();\n  }\n  destroy() {\n    this._unbindEvents();\n\n    this.el = null;\n    this.buttons = null;\n\n    this._selectedItem = null;\n    this._value = null;\n\n    this._onClick = null;\n  }\n\n  _bindEvents() {\n    if( this.buttons ) on(this.buttons, 'click', this._onClick);\n  }\n  _unbindEvents() {\n    if( this.buttons ) off(this.buttons, 'click', this._onClick);\n  }\n\n  _onClick(event) {\n    if (event) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n\n    const btn = event.currentTarget;\n\n    // if clicked button is already selected, skip here\n    if( btn === this._selectedItem ) return;\n\n    // deselected previously selected button\n    if( this._selectedItem ) this._selectedItem.setAttribute('aria-selected', false);\n\n    // hide previously selected button\n    if( this._value ) {\n      const previous_panel = $(`#${this._value}`);\n      if( previous_panel ) previous_panel.setAttribute('aria-hidden', true);\n    }\n\n    // select button\n    this._selectedItem = btn;\n    this._selectedItem.setAttribute('aria-selected', true);\n\n    // update value\n    this._value = this._selectedItem.getAttribute('aria-controls');\n\n    // try to select is controlled child\n    const panel = $(`#${this._value}`);\n    if( panel ) panel.setAttribute('aria-hidden', false);\n\n    // emit change event\n    this.emit('change', this._value);\n  }\n\n  // getter - setter\n  get selectedItem() { return this._selectedItem; }\n  get value() { return this._value; }\n}\n\nexport default TabList;\n","import TabList from '@components/TabList';\nimport { $ } from '@utils/dom';\n\nclass PbRowTabs {\n  constructor(el, emitter) {\n    this.el = el;\n    this.emitter = emitter;\n    this.tablist = $('.pb-row-tabs__tablist', this.el);\n\n    this._onTabListChange = this._onTabListChange.bind(this);\n\n    this.init();\n  }\n\n  init() {\n    if( this.tablist ) this.tablist = new TabList(this.tablist);\n  }\n  destroy() {\n    if( this.tablist ) this.tablist.destroy();\n\n    this.el = null;\n    this.emitter = null;\n    this.tablist = null;\n\n    this._onTabListChange = null;\n  }\n\n  start() { this._bindEvents(); }\n  stop() { this._unbindEvents(); }\n\n  _bindEvents() {\n    if( this.tabs ) this.tabs.on('change', this._onTabListChange);\n  }\n  _unbindEvents() {\n    if( this.tabs ) this.tabs.on('change', this._onTabListChange);\n  }\n\n  _onTabListChange() { this.emitter.emit('SiteScroll.update'); }\n}\n\nexport default PbRowTabs;\n","import Factory from \"./factory\";\n\nexport const instance = new Factory();\n\nexport default { instance };\n","import { $$ } from \"@utils/dom\";\n\nimport Module from \"../module/Module\";\nimport PbRowTabs from \"./PbRowTabs\";\n\nexport const SELECTOR = `[data-pb-row-tabs]`;\n\nclass Factory extends Module {\n  constructor(init = false) {\n    super();\n\n    this.initialized = false;\n    this.items = null;\n\n    init ? this.init() : null;\n  }\n\n  get name() {\n    return \"PbRowTabs\";\n  }\n\n  init() {\n    // set initialized\n    this.initialized = true;\n    this.items = [...$$(SELECTOR)].map(el => new PbRowTabs(el, this.emitter));\n  }\n  destroy() {\n    if (this.items) this.items.forEach(el => el.destroy());\n\n    this.initialized = false;\n    this.items = null;\n  }\n\n  start() {\n    if (this.items) this.items.forEach(el => el.start());\n  }\n  stop() {\n    if (this.items) this.items.forEach(el => el.stop());\n  }\n}\n\nexport default Factory;\n"],"names":["Module","init","start","stop","destroy","name","TabList","el","buttons","$$","_selectedItem","_value","_onClick","bind","this","find","button","getAttribute","_bindEvents","_unbindEvents","on","off","event","preventDefault","stopImmediatePropagation","btn","currentTarget","setAttribute","previous_panel","$","panel","emit","selectedItem","value","EventEmitter2","PbRowTabs","emitter","tablist","_onTabListChange","tabs","instance","Factory","initialized","items","map","forEach"],"sourceRoot":""}