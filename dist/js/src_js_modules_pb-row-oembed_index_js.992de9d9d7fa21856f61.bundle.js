"use strict";(self.webpackChunksamuelpasquier=self.webpackChunksamuelpasquier||[]).push([["src_js_modules_pb-row-oembed_index_js","src_js_ui_locomotive-scroll-vimeo_index_js","src_js_ui_locomotive-scroll-youtube_index_js"],{"./src/js/modules/module/Module.js":(t,e,n)=>{function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,{Z:()=>s});const s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,s;return e=t,(n=[{key:"init",value:function(){}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"destroy",value:function(){}},{key:"name",get:function(){return null}}])&&i(e.prototype,n),s&&i(e,s),t}()},"./src/js/modules/pb-row-oembed/index.js":(t,e,n)=>{n.r(e),n.d(e,{default:()=>E,instance:()=>j});var i=n("./src/js/utils/dom.js"),s=n("./src/js/modules/module/Module.js"),o=n("./src/js/utils/listener.js"),r=n("./src/js/ui/locomotive-scroll-vimeo/index.js"),l=n("./src/js/ui/locomotive-scroll-youtube/index.js"),a=n("./src/js/ui/locomotive-scroll-vimeo/LocomotiveScrollVimeo.js"),u=n("./src/js/ui/locomotive-scroll-youtube/LocomotiveScrollYoutube.js");function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.emitter=n,this.preview=(0,i.$)(".pb-row-oembed__preview",this.el),this.button=(0,i.$)(".pb-row-oembed__button",this.el),this._onButtonClick=this._onButtonClick.bind(this),this.init()}var e,n,s;return e=t,(n=[{key:"init",value:function(){}},{key:"destroy",value:function(){this.el=null,this.emitter=null,this.preview=null,this.button=null,this._onButtonClick=null}},{key:"start",value:function(){this._bindEvents()}},{key:"stop",value:function(){this._unbindEvents()}},{key:"_bindEvents",value:function(){this.button&&(0,o.on)(this.button,"click",this._onButtonClick)}},{key:"_unbindEvents",value:function(){this.button&&(0,o.S1)(this.button,"click",this._onButtonClick)}},{key:"_onButtonClick",value:function(t){t&&(t.preventDefault(),t.stopImmediatePropagation()),this._unbindEvents();var e=(0,i.$)("script",this.el).innerHTML;this.preview.parentNode.innerHTML=e,this.preview=null,this.button=null;var n=(0,i.$)(u.Y,this.el);if(n)l.instance.add(n);else{var s=(0,i.$)(a.Y,this.el);s&&r.instance.add(s)}}}])&&c(e.prototype,n),s&&c(e,s),t}();const f=h;function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function _(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function b(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=m(t);if(e){var s=m(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _(this,n)}}var j=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(r,t);var e,n,s,o=w(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d(this,r),(t=o.call(this)).initialized=!1,t.items=null,e&&t.init(),t}return e=r,(n=[{key:"name",get:function(){return"PbRowOEmbed"}},{key:"init",value:function(){var t=this;this.initialized=!0,this.items=b((0,i.$$)("[data-pb-row-oembed]")).map((function(e){return new f(e,t.emitter)}))}},{key:"destroy",value:function(){this.items&&this.items.forEach((function(t){return t.destroy()})),this.initialized=!1,this.items=null}},{key:"start",value:function(){this.items&&this.items.forEach((function(t){return t.start()}))}},{key:"stop",value:function(){this.items&&this.items.forEach((function(t){return t.stop()}))}}])&&p(e.prototype,n),s&&p(e,s),r}(s.Z));const E={instance:j}},"./src/js/ui/locomotive-scroll-vimeo/LocomotiveScrollVimeo.js":(t,e,n)=>{n.d(e,{Y:()=>u,Z:()=>f});var i=n("./src/js/utils/dom.js"),s=n("./src/js/utils/mobile.js");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var a,u='.wysiwyg iframe[src*="vimeo.com"]',c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o(this,t),this.items=null,this._elements=null,this._promise=null,this._status=0,e&&this.init()}return l(t,[{key:"init",value:function(){if(!s.a&&(this._elements=Array.from((0,i.$$)(u)),this._elements&&0!==this._elements.length))if(this._status=1,a||this._promise)a&&this._initChildren();else{var t=this;this._promise=n.e("vendors-node_modules_vimeo_player_dist_player_es_js").then(n.bind(n,"./node_modules/@vimeo/player/dist/player.es.js")),this._promise.then((function(e){a=e.default,t._status<1||(t._initChildren(),3===t._status&&t.start())})),this._promise.catch((function(t){console.error("Error loading Vimeo Player API :",t)}))}}},{key:"destroy",value:function(){this.items&&this.items.forEach((function(t){return t.destroy()})),this.items=null,this._elements=null,this._status=0}},{key:"start",value:function(){this._status=3,this.items&&this.items.forEach((function(t){return t.start()}))}},{key:"stop",value:function(){this.items&&this.items.forEach((function(t){return t.stop()})),this._status=2}},{key:"add",value:function(t){if(!s.a)if(this._status<1&&(this._status=1),a||this._promise){if(a){var e=new h(t);this.items||(this.items=[]),this.items.push(e),3===this._status&&e.start()}}else{var i=this;this._promise=n.e("vendors-node_modules_vimeo_player_dist_player_es_js").then(n.bind(n,"./node_modules/@vimeo/player/dist/player.es.js")),this._promise.then((function(e){if(a=e.default,!(i._status<1)){var n=new h(t);i.items||(i.items=[]),i.items.push(n),3===i._status&&n.start()}})),this._promise.catch((function(t){console.error("Error loading Vimeo Player API :",t)}))}}},{key:"remove",value:function(t){if(this._elements&&(this._elements=this._elements.filter((function(e){return e!==t}))),this.items){var e=this.items.findIndex((function(e){return e.el===t}));if(e>-1){var n=this.items.splice(e,1)[0];n.stop(),n.destroy()}}}},{key:"_initChildren",value:function(){this.items=this._elements.map((function(t){return new h(t)})),this._elements=null}}]),t}(),h=function(){function t(e){o(this,t),this.el=e,this.parent=this.el.parentNode;var n=new URLSearchParams(this.el.src);this._autoplay="1"===n.get("autoplay"),this._onClick=this._onClick.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onPause=this._onPause.bind(this)}return l(t,[{key:"destroy",value:function(){this.player&&this.player.destroy(),this.el=null,this.parent=null,this.player=null,this._autoplay=null,this._onClick=null,this._onPlaying=null,this._onPause=null}},{key:"start",value:function(){this._bindEvents(),this._autoplay&&this._onClick()}},{key:"stop",value:function(){this._unbindEvents(),this.player&&(this.player.off("playing",this._onPlaying),this.player.off("pause",this._onPause))}},{key:"_bindEvents",value:function(){this.parent&&(this.el.style.pointerEvents="none",this.parent.removeEventListener("click",this._onClick),this.parent.addEventListener("click",this._onClick))}},{key:"_unbindEvents",value:function(){this.parent&&(this.el.style.pointerEvents="",this.parent.removeEventListener("click",this._onClick))}},{key:"_onClick",value:function(t){t&&(t.stopPropagation(),t.preventDefault()),this.player||(this.player=new a(this.el),this.player.on("playing",this._onPlaying),this.player.on("pause",this._onPause)),this.player.play()}},{key:"_onPlaying",value:function(){this._unbindEvents()}},{key:"_onPause",value:function(){this._bindEvents()}}]),t}();const f=c},"./src/js/ui/locomotive-scroll-vimeo/index.js":(t,e,n)=>{n.r(e),n.d(e,{instance:()=>i,default:()=>s});var i=new(n("./src/js/ui/locomotive-scroll-vimeo/LocomotiveScrollVimeo.js").Z);const s={instance:i}},"./src/js/ui/locomotive-scroll-youtube/LocomotiveScrollYoutube.js":(t,e,n)=>{n.d(e,{Y:()=>c,Z:()=>d});var i=n("./src/js/utils/dom.js"),s=n("./src/js/utils/mobile.js");function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}const r=new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._script=null,this._ready=!1,this._promises=[],window.onYouTubeIframeAPIReady=function(){e._ready=!0,e._promises.forEach((function(t){return t()})),e._promises=null,window.onYouTubeIframeAPIReady=null}}var e,n,s;return e=t,(n=[{key:"load",value:function(){var t=this;if(this._ready)return Promise.resolve();var e=new Promise((function(e){return t._promises.push(e)}));return this._script||(this._script=document.createElement("script"),this._script.onerror=function(t){console.error("Error loading Youtube iFrame API :",t)},this._script.src="https://www.youtube.com/iframe_api",i.YM.appendChild(this._script)),e}},{key:"ready",get:function(){return this._ready}}])&&o(e.prototype,n),s&&o(e,s),t}());function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var c='.wysiwyg iframe[src*="youtube.com"]',h=1,f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(this,t),this.items=null,this._elements=null,this._status=0,this._initChildren=this._initChildren.bind(this),e&&this.init()}return u(t,[{key:"init",value:function(){var t=this;s.a||(this._elements=Array.from((0,i.$$)(c)),this._elements&&0!==this._elements.length&&(this._status=1,r.load().then((function(){t._status<1||(t._initChildren(),3===t._status&&t.start())}))))}},{key:"destroy",value:function(){this.items&&this.items.forEach((function(t){return t.destroy()})),this.items=null,this._elements=null,this._status=0}},{key:"start",value:function(){this._status=3,this.items&&this.items.forEach((function(t){return t.start()}))}},{key:"stop",value:function(){this.items&&this.items.forEach((function(t){return t.stop()})),this._status=2}},{key:"add",value:function(t){var e=this;s.a||(this._status<1&&(this._status=1),r.load().then((function(){if(!(e._status<1)){var n=new y(t);e.items||(e.items=[]),e.items.push(n),3===e._status&&n.start()}})))}},{key:"remove",value:function(t){if(this._elements&&(this._elements=this._elements.filter((function(e){return e!==t}))),this.items){var e=this.items.findIndex((function(e){return e.el===t}));if(e>-1){var n=this.items.splice(e,1)[0];n.stop(),n.destroy()}}}},{key:"_initChildren",value:function(){this.items=this._elements.map((function(t){return new y(t)})),this._elements=null}}]),t}(),y=function(){function t(e){l(this,t),this.el=e,this.parent=this.el.parentNode,this.udid=this.el.id?this.el.id:null,this.udid||(this.udid="youtube-smooth-scroll--".concat(h++),this.el.id=this.udid);var n=new URLSearchParams(this.el.src);this._autoplay="1"===n.get("autoplay"),this._playerReady=!1,this._playerStatus=null,this._onClick=this._onClick.bind(this),this._onReady=this._onReady.bind(this),this._onStateChange=this._onStateChange.bind(this)}return u(t,[{key:"destroy",value:function(){this.player&&this.player.destroy(),this.el=null,this.parent=null,this.player=null,this.udid=null,this._autoplay=null,this._playerReady=null,this._playerStatus=null,this._onClick=null,this._onReady=null,this._onStateChange=null}},{key:"start",value:function(){this._bindEvents(),this._autoplay&&(this._onClick(),this._onStateChange({data:YT.PlayerState.PLAYING}))}},{key:"stop",value:function(){this._unbindEvents(),this.player&&(this.player.removeEventListener("onReady",this._onReady),this.player.removeEventListener("onStateChange",this._onStateChange))}},{key:"_bindEvents",value:function(){this.parent&&(this.el.style.pointerEvents="none",this.parent.removeEventListener("click",this._onClick),this.parent.addEventListener("click",this._onClick))}},{key:"_unbindEvents",value:function(){this.parent&&(this.el.style.pointerEvents="",this.parent.removeEventListener("click",this._onClick))}},{key:"_onClick",value:function(t){t&&(t.stopPropagation(),t.preventDefault()),this.player?!0===this._playerReady&&this.player.playVideo():(this.player=new YT.Player(this.udid),this.player.addEventListener("onReady",this._onReady),this.player.addEventListener("onStateChange",this._onStateChange))}},{key:"_onReady",value:function(){this._playerReady=!0,this.player.playVideo(),this._unbindEvents()}},{key:"_onStateChange",value:function(t){this._playerReady=!0,t.data===YT.PlayerState.PAUSED||t.data===YT.PlayerState.ENDED?this._bindEvents():t.data===YT.PlayerState.PLAYING&&this._unbindEvents()}}]),t}();const d=f},"./src/js/ui/locomotive-scroll-youtube/index.js":(t,e,n)=>{n.r(e),n.d(e,{instance:()=>i,default:()=>s});var i=new(n("./src/js/ui/locomotive-scroll-youtube/LocomotiveScrollYoutube.js").Z);const s={instance:i}}}]);
//# sourceMappingURL=src_js_modules_pb-row-oembed_index_js.992de9d9d7fa21856f61.bundle.js.map