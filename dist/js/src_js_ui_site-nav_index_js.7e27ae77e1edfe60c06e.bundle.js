"use strict";(self.webpackChunksamuelpasquier=self.webpackChunksamuelpasquier||[]).push([["src_js_ui_site-nav_index_js"],{"./src/js/ui/site-nav/index.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>d,instance:()=>u});var n=i("./src/js/utils/dom.js"),s=i("./src/js/utils/listener.js");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l="--js-site-nav-opened",h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this._opened=!1,this._handleTriggers=this._handleTriggers.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._onCloseCompleted=this._onCloseCompleted.bind(this)}var t,i,r;return t=e,(i=[{key:"name",get:function(){return"SiteNav"}},{key:"init",value:function(){this.initialized=!0,this._opened=!1,this.siteHeader=(0,n.$)(".site-header"),this.el=(0,n.$)("[data-site-nav]"),this.triggers=a((0,n.$$)('[aria-controls="'.concat(this.el.id,'"]'))),this._bindEvents()}},{key:"destroy",value:function(){this._unbindEvents(),this.siteHeader=null,this.el=null,this.triggers=null,this._opened=!1,this.initialized=!1}},{key:"_bindEvents",value:function(){this.triggers&&(0,s.on)(this.triggers,"click",this._handleTriggers),(0,s.on)(window,"keydown",this._handleKeyDown),this.emitter.on("SiteNav.toggle",this._handleTriggers)}},{key:"_unbindEvents",value:function(){this.triggers&&(0,s.S1)(this.triggers,"click",this._handleTriggers),(0,s.S1)(window,"keydown",this._handleKeyDown),this.emitter.off("SiteNav.toggle",this._handleTriggers)}},{key:"open",value:function(){!0!==this._opened&&(this._opened=!0,this.state.dispatch("SITE_NAV",this._opened),n.d1.classList.add(l),this.emitter.emit("SiteScroll.stop"),this.triggers.forEach((function(e){e.setAttribute("aria-expanded",!0),e.classList.add("is-active")})),this.el.setAttribute("aria-hidden",!1))}},{key:"close",value:function(){!1!==this._opened&&(this._opened=!1,this.state.dispatch("SITE_NAV",this._opened),this.triggers.forEach((function(e){e.setAttribute("aria-expanded",!1),e.classList.remove("is-active")})),n.d1.classList.remove(l),this._onCloseCompleted())}},{key:"toggle",value:function(){!0===this._opened?this.close():this.open()}},{key:"_handleTriggers",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.toggle()}},{key:"_handleKeyDown",value:function(e){!0!==this._opened||"Escape"!==e.key&&"Esc"!==e.key||this.close()}},{key:"_onCloseCompleted",value:function(){!0!==this._opened&&(this.emitter.emit("SiteScroll.start"),this.el.setAttribute("aria-hidden",!0))}},{key:"opened",get:function(){return this._opened}}])&&o(t.prototype,i),r&&o(t,r),e}();var u=new h;const d={instance:u}}}]);
//# sourceMappingURL=src_js_ui_site-nav_index_js.7e27ae77e1edfe60c06e.bundle.js.map